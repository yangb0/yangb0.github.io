<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>apidoc 生成Restful web Api文档 | yang的博客</title>
    <meta name="description" content="yang的博客">
    <link rel="icon" href="/assets/img/avatar.jpg">
    
    <link rel="preload" href="/assets/css/3.styles.672efb23.css" as="style"><link rel="preload" href="/assets/js/vendor.2.672efb23.js" as="script"><link rel="preload" href="/assets/js/vendor.1.3967ac5f.js" as="script"><link rel="preload" href="/assets/css/0.styles.4df80900.css" as="style"><link rel="preload" href="/assets/js/vendor.0.4df80900.js" as="script"><link rel="preload" href="/assets/js/app.a8b8daa8.js" as="script"><link rel="preload" href="/assets/js/23.3f7faed0.js" as="script"><link rel="prefetch" href="/assets/css/4.styles.3b621091.css"><link rel="prefetch" href="/assets/js/10.8478bdff.js"><link rel="prefetch" href="/assets/js/11.ee26bcc0.js"><link rel="prefetch" href="/assets/js/12.55cc93a1.js"><link rel="prefetch" href="/assets/js/13.acefd014.js"><link rel="prefetch" href="/assets/js/14.73204498.js"><link rel="prefetch" href="/assets/js/15.259a8f6b.js"><link rel="prefetch" href="/assets/js/16.b7a2ccfa.js"><link rel="prefetch" href="/assets/js/17.91927fe4.js"><link rel="prefetch" href="/assets/js/18.31d42ce8.js"><link rel="prefetch" href="/assets/js/19.5779d05f.js"><link rel="prefetch" href="/assets/js/20.0f83e315.js"><link rel="prefetch" href="/assets/js/21.e5ef8958.js"><link rel="prefetch" href="/assets/js/22.9ef640bd.js"><link rel="prefetch" href="/assets/js/24.010d36ab.js"><link rel="prefetch" href="/assets/js/25.e648bc8e.js"><link rel="prefetch" href="/assets/js/26.7ec4c43f.js"><link rel="prefetch" href="/assets/js/27.ca7ce5ff.js"><link rel="prefetch" href="/assets/js/28.b471d502.js"><link rel="prefetch" href="/assets/js/4.3b621091.js"><link rel="prefetch" href="/assets/js/5.070e33ea.js"><link rel="prefetch" href="/assets/js/6.d4b3b4c1.js"><link rel="prefetch" href="/assets/js/7.44b1e335.js"><link rel="prefetch" href="/assets/js/8.5e5bb804.js"><link rel="prefetch" href="/assets/js/9.a3b29316.js">
    <link rel="stylesheet" href="/assets/css/3.styles.672efb23.css"><link rel="stylesheet" href="/assets/css/0.styles.4df80900.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-meteorlxy"><header class="header" data-v-0539f1bd><div data-v-39c72c19 data-v-0539f1bd><nav class="navbar" data-v-39c72c19><div class="container" data-v-39c72c19><a href="/" class="router-link-active" data-v-39c72c19><span class="navbar-site-name" data-v-39c72c19>
          yang的博客
        </span></a> <div class="navbar-toggler" data-v-39c72c19><svg class="icon" style="font-size:1.2em;" data-v-39c72c19 data-v-39c72c19><title data-v-39c72c19 data-v-39c72c19>menu</title><use xlink:href="#icon-menu" data-v-39c72c19 data-v-39c72c19></use></svg></div> <div class="navbar-links" data-v-39c72c19><a href="/" class="navbar-link" data-v-39c72c19>
            主页
          </a><a href="/posts/" class="navbar-link router-link-active" data-v-39c72c19>
            文章
          </a></div></div></nav> <div class="navbar-holder" style="display:none;" data-v-39c72c19></div></div> <div class="banner" data-v-98d6aa8c data-v-0539f1bd data-v-0539f1bd><div class="container" data-v-98d6aa8c><div class="center" data-v-98d6aa8c><h1 data-v-98d6aa8c data-v-0539f1bd>
          apidoc 生成Restful web Api文档
        </h1></div></div></div></header> <div class="container clearfix show-aside" data-v-6cd81e6a data-v-6cd81e6a><main class="main" data-v-6cd81e6a><div class="post" data-v-6cd81e6a data-v-6cd81e6a><section class="post-meta main-div" data-v-4e23451f><section class="post-date clearfix" data-v-4e23451f><span class="create-date" data-v-4e23451f>
      发布时间 : 2016-07-09
    </span> <!----></section> <section class="post-links" data-v-4e23451f><a href="/posts/2016/07/09/jetty.html" class="post-link" data-v-4e23451f>
      上一篇 : jetty相关
    </a> <a href="/posts/2016/07/10/springmvc.html" class="post-link" data-v-4e23451f>
      下一篇 : SpringMVC工作原理
    </a></section></section> <article class="main-div"><div class="post-content content content__default"><p>在项目开发过程中，总会牵扯到接口文档的设计与编写，之前使用的都是office工具，写一个文档，总也是不够漂亮和直观。好在git上的开源大神提供了生成文档的工具，so来介绍一下！
该工具是Nodejs的模块，请务必在使用前安装好nodejs环境！</p> <h2 id="安装apidoc"><a href="#安装apidoc" aria-hidden="true" class="header-anchor">#</a> 安装Apidoc</h2> <p>1.安装nmp环境,Windows环境可直接通过http://nodejs.org/下载安装包安装</p> <p>2.安装后在cmd终端执行npm install apidoc –g</p> <p>4.执行成功终端输入brew install node等待一段时间</p> <p>5.执行成功终端输入npm –v确认是否npm安装成功
<a href="http://7xt682.com2.z0.glb.clouddn.com/apidoc1.png" target="_blank" rel="noopener noreferrer"><img src="http://7xt682.com2.z0.glb.clouddn.com/apidoc1.png" alt=""><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>6.安装npm成功后执行执行npm install apidoc –g 安装apidoc即可。</p> <h2 id="apidoc使用"><a href="#apidoc使用" aria-hidden="true" class="header-anchor">#</a> apidoc使用</h2> <h3 id="_1-在项目根目录中创建apidoc-json文件"><a href="#_1-在项目根目录中创建apidoc-json文件" aria-hidden="true" class="header-anchor">#</a> 1.在项目根目录中创建apidoc.json文件</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Apidoc Example&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;version&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;description&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Apidoc Example descrption&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;title&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Custom apiDoc browser title&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;url&quot;</span> <span class="token punctuation">:</span> <span class="token string">&quot;http://localhost:8080/v1&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;sampleUrl&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;http://localhost:8080/v1&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;forceLanguage&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;zh-cn&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;template&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
   <span class="token string">&quot;withCompare&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
   <span class="token string">&quot;withGenerator&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-在对应接口上加上注释"><a href="#_2-在对应接口上加上注释" aria-hidden="true" class="header-anchor">#</a> 2.在对应接口上加上注释:</h3> <p>示例:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 *
 * @api {post} /m/login.do  登录
 * @apiName 登录
 * @apiGroup login
 * @apiVersion 1.0.0
 * @apiDescription 接口详细描述
 *
 * @apiParam {String} username 用户名
 * @apiParam {String} password 密码
 *
 * @apiSuccess {String} status 结果码
 * @apiSuccess {String} msg 消息说明
 * @apiSuccessExample Success-Response:
 *  HTTP/1.1 200 OK
 * {
 * status:0,
 * msg:'success',
 * data:{}
 *  }
 *
 *  @apiError All 对应&lt;code&gt;id&lt;/code&gt;的用户没找到
 *  @apiErrorExample {json} Error-Response:
 *  HTTP/1.1 200
 *  {
 *   code:-1,
 *   msg:'user not found',
 *   }
 */</span>
</code></pre></div><h3 id="_3-执行终端命令"><a href="#_3-执行终端命令" aria-hidden="true" class="header-anchor">#</a> 3.执行终端命令</h3> <p>apidoc -i example/ -o doc/执行成功就则会在该目录下生成doc文件。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 典型用法</span>
apidoc <span class="token operator">-</span>i api<span class="token operator">/</span> <span class="token operator">-</span>o doc<span class="token operator">/</span>api <span class="token punctuation">[</span><span class="token operator">-</span>c <span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">]</span> <span class="token operator">-</span>f <span class="token string">&quot;.*\.js$&quot;</span>

<span class="token operator">-</span>i 表示输入，后面是文件夹路径
<span class="token operator">-</span>o 表示输出，后面是文件夹路径
默认会带上<span class="token operator">-</span><span class="token function">c，在当前路径下寻找配置文件</span><span class="token punctuation">(</span>apidoc<span class="token punctuation">.</span>json<span class="token punctuation">)</span>，如果找不到则会在<span class="token keyword">package</span><span class="token punctuation">.</span>json中寻找 <span class="token string">&quot;apidoc&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token operator">-</span>f 为文件过滤，后面是正则表达式，示例为只选着js文件
  与<span class="token operator">-</span>f类似，还有一个 <span class="token operator">-</span>e 的选项，表示要排除的文件<span class="token operator">/</span>文件夹，也是使用正则表达式
</code></pre></div><p>示例:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>apidoc <span class="token operator">-</span>i e<span class="token punctuation">:</span>\example <span class="token operator">-</span>o e<span class="token punctuation">:</span>\doc
</code></pre></div><p>这样就会在e:\doc目录下生成项目的doc文档,点开index.html就会看到如下效果</p> <p><a href="http://7xt682.com2.z0.glb.clouddn.com/apidoc2.png" target="_blank" rel="noopener noreferrer"><img src="http://7xt682.com2.z0.glb.clouddn.com/apidoc2.png" alt=""><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="apidoc代码注释"><a href="#apidoc代码注释" aria-hidden="true" class="header-anchor">#</a> apidoc代码注释</h2> <p>apidoc支持如下关键字</p> <div class="language-lua extra-class"><pre class="language-lua"><code>
@<span class="token function">api</span> <span class="token punctuation">{</span>method<span class="token punctuation">}</span> path <span class="token punctuation">[</span>title<span class="token punctuation">]</span>
  只有使用@api标注的注释块才会在解析之后生成文档，title会被解析为导航菜单<span class="token punctuation">(</span>@apiGroup<span class="token punctuation">)</span>下的小菜单
  method可以有空格，如<span class="token punctuation">{</span>POST GET<span class="token punctuation">}</span>
@apiGroup name
  分组名称，被解析为导航栏菜单
@apiName name
  接口名称，在同一个@apiGroup下，名称相同的@api通过@apiVersion区分，否者后面@api会覆盖前面定义的@api
@apiDescription text
  接口描述，支持html语法
@apiVersion verison
  接口版本，major<span class="token punctuation">.</span>minor<span class="token punctuation">.</span>patch的形式

@apiIgnore <span class="token punctuation">[</span>hint<span class="token punctuation">]</span>
  apidoc会忽略使用@apiIgnore标注的接口，hint为描述
@apiSampleRequest url
  接口测试地址以供测试，发送请求时，@api method必须为POST<span class="token operator">/</span>GET等其中一种

@apiDefine name <span class="token punctuation">[</span>title<span class="token punctuation">]</span> <span class="token punctuation">[</span>description<span class="token punctuation">]</span>
  定义一个注释块<span class="token punctuation">(</span>不包含@api<span class="token punctuation">)</span>，配合@apiUse使用可以引入注释块
  在@apiDefine内部不可以使用@apiUse
@apiUse name
  引入一个@apiDefine的注释块

@apiParam <span class="token punctuation">[</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>type<span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>field<span class="token operator">=</span>defaultValue<span class="token punctuation">]</span> <span class="token punctuation">[</span>description<span class="token punctuation">]</span>
@apiHeader <span class="token punctuation">[</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>type<span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>field<span class="token operator">=</span>defaultValue<span class="token punctuation">]</span> <span class="token punctuation">[</span>description<span class="token punctuation">]</span>
@apiError <span class="token punctuation">[</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>type<span class="token punctuation">}</span><span class="token punctuation">]</span> field <span class="token punctuation">[</span>description<span class="token punctuation">]</span>
@apiSuccess <span class="token punctuation">[</span><span class="token punctuation">(</span>group<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>type<span class="token punctuation">}</span><span class="token punctuation">]</span> field <span class="token punctuation">[</span>description<span class="token punctuation">]</span>
  用法基本类似，分别描述请求参数、头部，响应错误和成功
  group表示参数的分组，type表示类型<span class="token punctuation">(</span>不能有空格<span class="token punctuation">)</span>，入参可以定义默认值<span class="token punctuation">(</span>不能有空格<span class="token punctuation">)</span>
@apiParamExample <span class="token punctuation">[</span><span class="token punctuation">{</span>type<span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>title<span class="token punctuation">]</span> example
@apiHeaderExample <span class="token punctuation">[</span><span class="token punctuation">{</span>type<span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>title<span class="token punctuation">]</span> example
@apiErrorExample <span class="token punctuation">[</span><span class="token punctuation">{</span>type<span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>title<span class="token punctuation">]</span> example
@apiSuccessExample <span class="token punctuation">[</span><span class="token punctuation">{</span>type<span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>title<span class="token punctuation">]</span> example
  用法完全一致，但是type表示的是example的语言类型
  example书写成什么样就会解析成什么样，所以最好是书写的时候注意格式化，<span class="token punctuation">(</span>许多编辑器都有列模式，可以使用列模式快速对代码添加<span class="token operator">*</span>号<span class="token punctuation">)</span>

@apiPermission name
  name必须独一无二，描述@api的访问权限，如admin<span class="token operator">/</span>anyone
</code></pre></div><p>详细文档参考http://caixw.oschina.io/apidoc/</p></div></article> <section class="post-meta main-div" data-v-4e23451f><section class="post-date clearfix" data-v-4e23451f><span class="create-date" data-v-4e23451f>
      发布时间 : 2016-07-09
    </span> <!----></section> <section class="post-links" data-v-4e23451f><a href="/posts/2016/07/09/jetty.html" class="post-link" data-v-4e23451f>
      上一篇 : jetty相关
    </a> <a href="/posts/2016/07/10/springmvc.html" class="post-link" data-v-4e23451f>
      下一篇 : SpringMVC工作原理
    </a></section></section> <div id="post-comments" class="main-div"><!----></div></div></main> <aside class="aside" data-v-6cd81e6a><div class="info-card main-div" data-v-3da8ff8d data-v-6cd81e6a><div class="info-card-header" data-v-3da8ff8d><img src="/assets/img/avatar.jpg" alt="yang" class="info-avatar" data-v-3da8ff8d></div> <div class="info-card-body" data-v-3da8ff8d><section class="info-nickname" data-v-3da8ff8d>
      yang
    </section> <!----> <section class="info-contact" data-v-3da8ff8d><!----> <!----> <!----></section></div> <div class="info-card-footer" data-v-3da8ff8d><section class="info-sns clearfix" data-v-3da8ff8d></section></div></div> <div class="post-nav-card main-div" style="position:relative;top:0;width:0px;" data-v-6cd81e6a><div class="post-nav-contents"><svg class="icon"><title>book</title><use xlink:href="#icon-book"></use></svg> <span>文章目录</span> <div class="post-nav-toc"><ul><li><a href="/posts/2016/07/09/apidoc.html#安装apidoc">安装Apidoc</a></li><li><a href="/posts/2016/07/09/apidoc.html#apidoc使用">apidoc使用</a><ul><li><a href="/posts/2016/07/09/apidoc.html#_1-在项目根目录中创建apidoc-json文件">1.在项目根目录中创建apidoc.json文件</a></li><li><a href="/posts/2016/07/09/apidoc.html#_2-在对应接口上加上注释">2.在对应接口上加上注释:</a></li><li><a href="/posts/2016/07/09/apidoc.html#_3-执行终端命令">3.执行终端命令</a></li></ul></li><li><a href="/posts/2016/07/09/apidoc.html#apidoc代码注释">apidoc代码注释</a></li></ul></div></div> <div class="post-nav-comments"><svg class="icon"><title>comment</title><use xlink:href="#icon-comment"></use></svg> <a href="/posts/2016/07/09/apidoc.html#post-comments">
      评论
    </a></div></div></aside></div> <footer class="footer" data-v-1114308c><p class="sns-links" data-v-1114308c></p> <p data-v-1114308c><span data-v-1114308c>Powered by </span> <a href="https://vuepress.vuejs.org" target="_blank" data-v-1114308c>
      Vuepress
    </a></p></footer></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/vendor.2.672efb23.js" defer></script><script src="/assets/js/23.3f7faed0.js" defer></script><script src="/assets/js/vendor.1.3967ac5f.js" defer></script><script src="/assets/js/vendor.0.4df80900.js" defer></script><script src="/assets/js/app.a8b8daa8.js" defer></script>
  </body>
</html>
